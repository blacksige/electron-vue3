(function(){"use strict";var e={6641:function(e,t,o){var a=o(5130),n=o(6768),r=(0,n.pM)({__name:"App",setup(e){return(e,t)=>{const o=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.Wv)(o)}}});const l=r;var s=l,i=o(4458);(0,i.k)("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var u=o(1387),c=o(4232),d=o(144),v=o(47);const p=(0,n.pM)({emits:["event"],setup(e,{emit:t}){const o={position:"absolute",width:"100%",bottom:"20px"},a=e=>{console.log(e),t("event",e)};return()=>(0,n.bF)("div",{style:o},[(0,n.bF)(v.S2,{type:"text",onClick:a.bind(this,"1")},{default:()=>[(0,n.eW)("导入数据")]}),(0,n.bF)(v.S2,{type:"text",onClick:a.bind(this,"2")},{default:()=>[(0,n.eW)("中奖名单")]}),(0,n.bF)(v.S2,{type:"text",onClick:a.bind(this,"3")},{default:()=>[(0,n.eW)("重置")]})])}});var f=p,g=(0,n.pM)({__name:"Prize",setup(e){const t=(0,d.Kh)({width:"",height:""}),o=()=>{var e=window.innerWidth,o=window.innerHeight;console.log("窗口宽度："+e),console.log("窗口高度："+o),o<600||e<800?(t.width="120px",t.height="120px"):(t.width="200px",t.height="200px")};return(0,n.sV)((()=>{window.addEventListener("resize",o)})),(0,n.hi)((()=>{window.removeEventListener("resize",o)})),(e,o)=>((0,n.uX)(),(0,n.CE)("div",{class:"prize",style:(0,c.Tr)(t)},null,4))}}),h=o(1241);const m=(0,h.A)(g,[["__scopeId","data-v-0dfede9b"]]);var b=m,y=(o(4114),o(4373)),k=o(1219);console.log(k.nk);const w=y.A.create({baseURL:"/nodeapp",timeout:3e4,withCredentials:!0});w.interceptors.request.use((e=>e),(e=>(e.message&&e.message.indexOf("timeout")>=0?console.error("请求超时"):console.error(e),Promise.reject(e)))),w.interceptors.response.use((e=>{if(e.data&&void 0!==e.data.code)return"200"===e.data.code.toString()?(k.nk.success(e.data.msg),e.data):(k.nk.error(e.data.msg),console.error(e.data),Promise.reject(e.data));{const t=`无响应内容，或响应内容格式有误，请检查接口。data: ${JSON.stringify(e.data)}`;return console.error(t),Promise.reject(new Error(t))}}),(e=>(console.error(e),Promise.reject(e))));var _=w;const x="/enterdata",F=e=>{const t=`${x}/getAllData`;return _({url:t,method:"get",params:e})},D=e=>{const t=`${x}/setAllData`;return _({url:t,method:"post",data:e})},E=e=>{const t=`${x}/deleteData`;return _({url:t,method:"post",data:e})};var C={queryEnterData:F,setEnterData:D,deleteEnterData:E};const R={class:"data-dialog"},O={class:"dialog-footer"};var W=(0,n.pM)({__name:"DataDialog",emits:["getValue"],setup(e,{expose:t,emit:o}){const a=o,r=(0,d.KR)(!1),l=(0,d.KR)(!1),s=(0,d.KR)(""),i=()=>{r.value=!0,l.value=!0,C.queryEnterData({}).then((e=>{200===e.code&&(s.value=e.data.textarea)})).finally((()=>{l.value=!1}))},u=()=>{r.value=!1,s.value=""},c=()=>{try{const e=/^(.*?)(?:\n|$)/gm;let t;const o=[];while(s.value&&null!==(t=e.exec(s.value)))o.push(t[1]);console.log(o),a("getValue",o)}catch(e){console.error(e)}finally{u()}},v=e=>{"0"===e?C.setEnterData({textarea:s.value}).then((e=>{200===e.code&&console.log(e.msg)})):(s.value="",C.deleteEnterData({}).then((e=>{200===e.code&&console.log(e.msg)})))};return t({showDialog:i}),(e,t)=>{const o=(0,n.g2)("el-alert"),a=(0,n.g2)("el-input"),i=(0,n.g2)("el-button"),d=(0,n.g2)("el-dialog"),p=(0,n.gN)("loading");return(0,n.uX)(),(0,n.CE)("div",R,[(0,n.bo)(((0,n.uX)(),(0,n.Wv)(d,{modelValue:r.value,"onUpdate:modelValue":t[3]||(t[3]=e=>r.value=e),title:"信息录入",width:"500","close-on-click-modal":!1},{footer:(0,n.k6)((()=>[(0,n.Lk)("div",O,[(0,n.bF)(i,{type:"info",onClick:t[1]||(t[1]=e=>v("0"))},{default:(0,n.k6)((()=>[(0,n.eW)("暂存")])),_:1}),(0,n.bF)(i,{type:"info",onClick:t[2]||(t[2]=e=>v("1"))},{default:(0,n.k6)((()=>[(0,n.eW)("重置")])),_:1}),(0,n.bF)(i,{type:"primary",onClick:c},{default:(0,n.k6)((()=>[(0,n.eW)(" 确认 ")])),_:1}),(0,n.bF)(i,{onClick:u},{default:(0,n.k6)((()=>[(0,n.eW)("取消")])),_:1})])])),default:(0,n.k6)((()=>[(0,n.bF)(o,{title:"注意：每条数据以回车结束",type:"warning","show-icon":"",style:{"margin-bottom":"12px"},closable:!1}),(0,n.bF)(a,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),style:{width:"100%"},placeholder:"Please input",type:"textarea",autosize:{minRows:10,maxRows:20}},null,8,["modelValue"])])),_:1},8,["modelValue"])),[[p,l.value]])])}}});const j=(0,h.A)(W,[["__scopeId","data-v-68fc0814"]]);var K=j;const M="/history",V=e=>{const t=`${M}/getHistory`;return _({url:t,method:"get",params:e})},A=e=>{const t=`${M}/setHistory`;return _({url:t,method:"post",data:e})},S=e=>{const t=`${M}/deleteData`;return _({url:t,method:"post",data:e})};var H={queryHistory:V,setHistory:A,deleteHistoryData:S};const P={class:"result-dialog"},$={class:"dialog-footer"};var L=(0,n.pM)({__name:"ResultDialog",emits:["getValue"],setup(e,{expose:t,emit:o}){const a=(0,d.KR)(!1),r=(0,d.KR)(!1);let l=null;const s=()=>{a.value=!0,r.value=!1,H.queryHistory({}).then((e=>{l=(0,d.Kh)(c(e.data)),console.log(l)})).finally((()=>{r.value=!0}))},i=()=>{l=[],a.value=!1},u=()=>{i(),H.deleteHistoryData({}).then((e=>{200===e.code&&console.log(e.msg)}))},c=e=>e.map(((e,t)=>({index:t+1,...e})));return t({showDialog:s}),(e,t)=>{const o=(0,n.g2)("el-table-column"),s=(0,n.g2)("el-table"),c=(0,n.g2)("el-button"),v=(0,n.g2)("el-dialog");return(0,n.uX)(),(0,n.CE)("div",P,[(0,n.bF)(v,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),title:"历史记录",width:"650"},{footer:(0,n.k6)((()=>[(0,n.Lk)("div",$,[(0,n.bF)(c,{type:"info",onClick:u},{default:(0,n.k6)((()=>[(0,n.eW)(" 重置 ")])),_:1}),(0,n.bF)(c,{type:"primary",onClick:i},{default:(0,n.k6)((()=>[(0,n.eW)(" 确认 ")])),_:1})])])),default:(0,n.k6)((()=>[(0,n.bF)(s,{data:(0,d.R1)(l),loading:r.value},{default:(0,n.k6)((()=>[(0,n.bF)(o,{property:"index",label:"Index",width:"120"}),(0,n.bF)(o,{property:"name",label:"Name",width:"300"}),(0,n.bF)(o,{property:"day",label:"Day",width:"180"})])),_:1},8,["data","loading"])])),_:1},8,["modelValue"])])}}});const X=(0,h.A)(L,[["__scopeId","data-v-4cc9ec24"]]);var I=X,q=o(2933),N=o(1576),T=o.n(N);const z={class:"home"},B={class:"content"},U={class:"result"};var Y=(0,n.pM)({__name:"HomeView",setup(e){const t=(0,d.KR)(!1),o=(0,d.KR)(!1),a=(0,d.KR)(""),r=(0,d.KR)(),l=(0,d.KR)(),s=(0,d.KR)([]),i=e=>{"1"===e?r.value.showDialog():"2"===e?l.value.showDialog():"3"===e&&(t.value=!1,a.value="")},u=e=>{console.log(e),s.value=e,s.value.length>0?t.value=!0:t.value=!1},v=()=>{if(s.value.length<=0)return;let e=0,t=Math.floor(10*Math.random()+10);o.value=!0;let n=setInterval((()=>{0===t?(clearInterval(n),o.value=!1,p()):(e=Math.floor(Math.random()*s.value.length),a.value=s.value[e],t--)}),200)},p=()=>{q.s.alert(a.value,"恭喜！",{confirmButtonText:"OK",callback:e=>{H.setHistory({name:a.value,day:T()().format("YYYY/MM/DD")}).then((e=>()=>{console.log(e)}))}})};return(e,s)=>{const p=(0,n.g2)("ElButton");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",z,[(0,n.Lk)("div",B,[(0,n.bF)(b),(0,n.Lk)("div",U,[t.value&&a.value?((0,n.uX)(),(0,n.Wv)(p,{key:0,plain:""},{default:(0,n.k6)((()=>[(0,n.eW)((0,c.v_)(a.value),1)])),_:1})):(0,n.Q3)("",!0)]),t.value?((0,n.uX)(),(0,n.Wv)(p,{key:0,class:"button",onClick:v,disabled:o.value},{default:(0,n.k6)((()=>[(0,n.eW)((0,c.v_)(a.value?"restart":"start"),1)])),_:1},8,["disabled"])):(0,n.Q3)("",!0)]),(0,n.bF)((0,d.R1)(f),{onEvent:i})]),(0,n.bF)(K,{ref_key:"dataDialog",ref:r,onGetValue:u},null,512),(0,n.bF)(I,{ref_key:"resultDialog",ref:l},null,512)],64)}}});const Q=(0,h.A)(Y,[["__scopeId","data-v-005dc44e"]]);var G=Q;const J=[{path:"/",name:"home",component:G}],Z=(0,u.aE)({history:(0,u.Bt)(""),routes:J});var ee=Z,te=o(782),oe=(0,te.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}}),ae=o(7860);o(4188);(0,a.Ef)(s).use(oe).use(ee).use(ae.A).mount("#app")}},t={};function o(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,a,n,r){if(!a){var l=1/0;for(c=0;c<e.length;c++){a=e[c][0],n=e[c][1],r=e[c][2];for(var s=!0,i=0;i<a.length;i++)(!1&r||l>=r)&&Object.keys(o.O).every((function(e){return o.O[e](a[i])}))?a.splice(i--,1):(s=!1,r<l&&(l=r));if(s){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,n,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,r,l=a[0],s=a[1],i=a[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(i)var c=i(o)}for(t&&t(a);u<l.length;u++)r=l[u],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(c)},a=self["webpackChunkmyproject_electron"]=self["webpackChunkmyproject_electron"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[504],(function(){return o(6641)}));a=o.O(a)})();
//# sourceMappingURL=app.dca31375.js.map